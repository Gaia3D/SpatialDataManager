<!-- 
	
	reference : 
		http://leafletjs.com/
		http://giscollective.org/tutorials/web-mapping/leaflet-2/
		
		http://books.google.co.kr/books?id=AgyAAwAAQBAJ&pg=PA28&lpg=PA28&dq=postgis+leaflet&source=bl&ots=gKVJyabaDJ&sig=j5xRjoHFvqefVUofPA6QunCNm8M&hl=en&sa=X&ei=H71kVISLOYGsmAWbhYDwBw&ved=0CCYQ6AEwAjgU#v=onepage&q=postgis%20leaflet&f=false
	
	@since 2014.10
	@author hangum
 -->
<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Leaflet map</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
	<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
	<script src="http://code.jquery.com/jquery-latest.min.js"></script>
</head>
<body>
 	<div id="map" style="width:100%; height:100%; position:fixed; left:0; top:0; overflow:hidden;"></div>

	<script type="text/javascript">
		
		/* 지도의 center를 맞춘다 */
		var map = L.map('map').setView([37.55, 127.07], 8);
		
		/* 지도의 title을 표현한다 */
		L.tileLayer('https://{s}.tiles.mapbox.com/v3/{id}/{z}/{x}/{y}.png', {
			maxZoom: 18,
			attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
				'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
				'Imagery © <a href="http://mapbox.com">Mapbox</a>',
			id: 'examples.map-20v6611k'
		}).addTo(map);
		
		//-------- sample data -----------------------------------------
	/* 
		var geojsonFeature = { "type": "Feature",   "geometry": {"type":"Point","coordinates":[126.977379,37.557121]} } ;
		L.geoJson(geojsonFeature).addTo(map); 
	*/
		//-------- sample data -----------------------------------------

		/** define layer */
		var layerTapole = L.geoJson();
	
		/*
		* clear map
		*/
		clearLayersMap = function() {
			try {
				
				layerTapole.clearLayers();
			} catch(err) {
				console.log(err);
			}
		};
		
		/**
		* drawing map
		*/
		drawingMap = function(geoJSON) {
			try {
				/* console.log("==> geojsonFeature: \n" + geoJSON ); */
				
				/* http://stackoverflow.com/questions/25216165/put-a-geojson-on-a-leaflet-map-invalid-geojson-object-throw-new-errorinvalid */
				layerTapole = L.geoJson(jQuery.parseJSON(geoJSON)).addTo(map);
			} catch(err) {
				console.log(err);
			}
		};
		
		/**
		* drawing map
		*/
		drawingUserColorMap = function(geoJSON, color) {
			try {
				/* console.log("==> geojsonFeature: \n" + geoJSON ); */
				var myStyle = {
				    "color": color,
				    "weight": 5,
				    "opacity": 0.65
				};
				
				
				/* layerTapole.resetStyle(myStyle); */
				layerTapole.addData(jQuery.parseJSON(geoJSON));
			} catch(err) {
				console.log(err);
			}
		};
	</script>
	
</body>
</html>